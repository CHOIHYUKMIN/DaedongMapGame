<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>留먮옉留먮옉 ??숇쭧吏??/title>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <link rel="stylesheet" href="css/style.css?v=1.3.0">
    <link rel="stylesheet" href="css/mobile.css?v=1.3.0">
    <link rel="stylesheet" href="css/blocks.css?v=1.3.0">
    <link rel="stylesheet" href="css/ui-enhancements.css?v=1.3.0">
    <link rel="stylesheet" href="css/animations.css?v=1.3.0">
    <link rel="stylesheet" href="css/costume.css?v=1.3.0">
</head>

<body>
    <!-- 硫붿씤 而⑦뀒?대꼫 -->
    <div id="game-container">

        <!-- 硫붿씤 硫붾돱 ?붾㈃ -->
        <div id="main-menu" class="screen active">
            <div class="title">
                <h1>留먮옉留먮옉<br>??숇쭧吏??/h1>
                <p class="subtitle">?쒖슱寃쎄린??/p>
            </div>
            <div class="map-selection-container">
                <h3 style="color: #F57C00; margin-bottom: 15px; text-align: center;">吏??쓣 ?좏깮?섏꽭??/h3>
                <div id="region-map" style="width: 100%; height: 400px; border-radius: 15px; overflow: hidden;"></div>
                <p style="text-align: center; color: #999; font-size: 12px; margin-top: 10px;">
                    吏?꾩뿉???쒖슱???대┃?섏꽭??
                </p>
            </div>
            <div class="menu-buttons">
                <button class="btn-large" onclick="Game.showInfo()">寃뚯엫 ?뺣낫</button>
                <button class="btn-large" onclick="Game.showSettings()">?ㅼ젙</button>
            </div>
            <div class="version">v0.1 ?꾨줈?좏???/div>
        </div>

        <!-- 罹먮┃???좏깮 ?붾㈃ -->
        <div id="character-select" class="screen">
            <h2>?먰뿕媛 ?좏깮</h2>
            <p class="subtitle">?섏씠? ?깅퀎???좏깮?섏꽭??/p>

            <div class="age-selector">
                <button class="age-btn" data-age="10">10?</button>
                <button class="age-btn" data-age="20">20?</button>
                <button class="age-btn" data-age="30">30?</button>
                <button class="age-btn" data-age="40">40~50?</button>
                <button class="age-btn" data-age="60">60?+</button>
            </div>

            <div class="gender-selector">
                <button class="gender-btn" data-gender="M">?⑥꽦</button>
                <button class="gender-btn" data-gender="F">?ъ꽦</button>
            </div>

            <div id="selected-character" class="character-preview">
                <p>罹먮┃?곕? ?좏깮?댁＜?몄슂</p>
            </div>

            <div class="button-row">
                <button class="btn" onclick="Game.showMainMenu()">?ㅻ줈</button>
                <button class="btn btn-primary" onclick="Game.startGame()">?쒖옉?섍린</button>
            </div>
        </div>

        <!-- 吏???붾㈃ -->
        <div id="map-screen" class="screen">
            <div class="top-bar">
                <div class="resource-display">
                    <span class="resource">?뮥 <span id="gold-display">0</span></span>
                    <span class="resource">?렖 <span id="mp-display">0</span></span>
                    <span class="resource">?ㅿ툘 <span id="heart-display">5</span></span>
                </div>
            </div>

            <div class="map-container">
                <div id="seoul-map" style="width: 100%; height: 100%;"></div>
            </div>

            <div class="bottom-bar">
                <button class="icon-btn" onclick="Game.showMap()">?뿺截?吏??/button>
                <button class="icon-btn" onclick="Game.showInventory()">?럲 媛諛?/button>
                <button class="icon-btn" onclick="Game.showShop()">?룵 ?곸젏</button>
                <button class="icon-btn" onclick="Game.showSettings()">?숋툘 ?ㅼ젙</button>
            </div>
        </div>

        <!-- ?쇱쫹 寃뚯엫 ?붾㈃ -->
        <div id="puzzle-screen" class="screen">
            <div class="puzzle-top-bar">
                <div id="level-info">?덈꺼 1</div>
                <div id="mission-info">紐⑺몴: <span id="target-score"></span>1000</span>??/div>
                <div id="score-info">?먯닔: <span id="current-score">0</span>??/div>
                <div id="moves-info">?대룞: <span id="moves-left">15</span></div>
            </div>

            <div id="puzzle-board"></div>

            <div class="puzzle-bottom-bar">
                <button class="booster-btn" id="hammer-btn" onclick="Puzzle.activateBooster('HAMMER')">
                    ?뵪 <span id="hammer-count">0</span>
                </button>
                <button class="booster-btn" id="bomb-btn" onclick="Puzzle.activateBooster('BOMB')">
                    ?뮗 <span id="bomb-count">0</span>
                </button>
                <button class="booster-btn" id="rainbow-btn" onclick="Puzzle.activateBooster('RAINBOW')">
                    ?뙂 <span id="rainbow-count">0</span>
                </button>
                <button class="pause-btn" onclick="Game.pauseGame()">?몌툘</button>
            </div>
        </div>

        <!-- 寃곌낵 ?앹뾽 -->
        <div id="result-popup" class="popup">
            <div class="popup-content">
                <h2 id="result-title">?덈꺼 ?대━??</h2>
                <div id="result-stars">狩먥춴狩?/div>
                <p id="result-score">?먯닔: 5000</p>
                <div id="result-rewards">
                    <p>蹂댁긽:</p>
                    <ul id="reward-list"></ul>
                </div>
                <p id="next-level-msg" style="margin-top: 20px; color: #999; font-size: 14px;">
                    3珥????ㅼ쓬 ?덈꺼濡??대룞?⑸땲??..
                </p>
                <div class="button-row">
                    <button class="btn" onclick="Game.showMap()">吏?꾨줈</button>
                    <button class="btn btn-primary" onclick="Game.retryLevel()">?щ룄??/button>
                </div>
            </div>
        </div>

        <!-- ?몃깽?좊━ ?앹뾽 -->
        <div id="inventory-popup" class="popup">
            <div class="popup-content inventory-content">
                <h2>?럲 ?몃깽?좊━</h2>

                <!-- 罹먮┃???뺣낫 -->
                <div class="character-info">
                    <div class="character-avatar" id="inventory-avatar">?뫀</div>
                    <div class="character-details">
                        <h3 id="inventory-char-name">罹먮┃???대쫫</h3>
                        <p id="inventory-char-desc">罹먮┃???ㅻ챸</p>
                        <div class="character-skill">
                            <span>?뙚</span>
                            <span id="inventory-char-skill">?ㅽ궗</span>
                        </div>
                    </div>
                </div>

                <!-- ?꾩씠??紐⑸줉 -->
                <div class="inventory-items">
                    <h3>蹂댁쑀 ?꾩씠??/h3>
                    <div id="inventory-grid" class="item-grid">
                        <!-- ?꾩씠?쒕뱾???ш린 ?쒖떆??-->
                    </div>
                </div>

                <!-- 踰꾪듉 -->
                <div class="button-row">
                    <button class="btn" onclick="Game.closeInventory()">?リ린</button>
                    <button class="btn" onclick="CostumeUI.open()">?렓 罹먮┃??袁몃?湲?/button>
                    <button class="btn btn-primary" onclick="Game.showCrafting()">議고빀?섍린</button>
                </div>
            </div>
        </div>

        <!-- 議고빀 ?앹뾽 -->
        <div id="crafting-popup" class="popup">
            <div class="popup-content crafting-content">
                <h2>?뵪 ?꾩씠??議고빀</h2>

                <!-- ?덉떆??紐⑸줉 -->
                <div class="recipe-list">
                    <h3>議고빀踰?/h3>
                    <div id="recipe-grid"></div>
                </div>

                <!-- ?좏깮???덉떆???뺣낫 -->
                <div id="selected-recipe" class="selected-recipe">
                    <p style="text-align: center; color: #999;">?덉떆?쇰? ?좏깮?섏꽭??/p>
                </div>

                <!-- 踰꾪듉 -->
                <div class="button-row">
                    <button class="btn" onclick="Game.closeCrafting()">?リ린</button>
                    <button class="btn btn-primary" id="craft-btn" onclick="Game.executeCraft()" disabled>議고빀?섍린</button>
                </div>
            </div>
        </div>

        <!-- 肄붿뒪??而ㅼ뒪?곕쭏?댁쭠 ?붾㈃ -->
        <div id="costume-screen" class="screen">
            <h2>?렓 罹먮┃??袁몃?湲?/h2>

            <!-- 罹먮┃???꾨━酉?-->
            <div class="costume-preview-container">
                <canvas id="costume-preview-canvas" width="512" height="512"></canvas>
            </div>

            <!-- ?ㅽ꺈 蹂대꼫???붿빟 -->
            <div class="stat-bonus-summary">
                <h3>???꾩옱 肄붿뒪??蹂대꼫??/h3>
                <div class="stat-bonus-list" id="stat-bonus-list">
                    <!-- 蹂대꼫????ぉ?ㅼ씠 ?ш린 ?쒖떆??-->
                </div>
            </div>

            <!-- 移댄뀒怨좊━ ??-->
            <div class="costume-category-tabs">
                <button class="costume-tab active" data-category="heads" onclick="CostumeUI.showCategory('heads')">?㎖
                    紐⑥옄</button>
                <button class="costume-tab" data-category="tops" onclick="CostumeUI.showCategory('tops')">?몧 ?곸쓽</button>
                <button class="costume-tab" data-category="bottoms" onclick="CostumeUI.showCategory('bottoms')">?몪
                    ?섏쓽</button>
                <button class="costume-tab" data-category="bags" onclick="CostumeUI.showCategory('bags')">?럲 媛諛?/button>
                <button class="costume-tab" data-category="accessories"
                    onclick="CostumeUI.showCategory('accessories')">?빒截??≪꽭?쒕━</button>
                <button class="costume-tab" data-category="special" onclick="CostumeUI.showCategory('special')">??
                    ?뱀닔</button>
            </div>

            <!-- 肄붿뒪??洹몃━??-->
            <div id="costume-grid" class="costume-grid">
                <!-- 肄붿뒪???꾩씠?쒕뱾???ш린 ?쒖떆??-->
            </div>

            <!-- 踰꾪듉 -->
            <div class="button-row">
                <button class="btn" onclick="Game.showInventory()">?ㅻ줈</button>
                <button class="btn btn-primary" onclick="CostumeUI.saveAndClose()">???/button>
            </div>
        </div>

        <!-- 肄붿뒪???곸꽭 紐⑤떖 -->
        <div id="costume-detail-modal" class="costume-detail-modal">
            <div class="costume-detail-content">
                <div class="costume-detail-icon" id="detail-icon">
                    <!-- 肄붿뒪???꾩씠肄?-->
                </div>
                <h3 class="costume-detail-name" id="detail-name">肄붿뒪???대쫫</h3>
                <p class="costume-detail-description" id="detail-description">肄붿뒪???ㅻ챸</p>

                <div class="costume-detail-stats" id="detail-stats">
                    <!-- ?ㅽ꺈 ?뺣낫 -->
                </div>

                <div class="costume-unlock-info" id="detail-unlock" style="display: none;">
                    <!-- ?좉툑 ?댁젣 議곌굔 -->
                </div>

                <div class="button-row">
                    <button class="btn" onclick="CostumeUI.closeDetail()">?リ린</button>
                    <button class="btn btn-primary" id="detail-equip-btn"
                        onclick="CostumeUI.equipFromDetail()">?μ갑</button>
                </div>
            </div>
        </div>

    </div>

    <!-- JavaScript -->
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Version Info -->
    <script src="version.js?v=1.3.0"></script>

    <script src="js/data.js?v=1.3.0"></script>
    <script src="js/puzzle.js?v=1.3.0"></script>
    <script src="js/costume.js?v=1.3.0"></script>
    <script src="js/costume-ui.js?v=1.3.0"></script>
    <script src="js/game.js?v=1.3.0"></script>
</body>

</html>
