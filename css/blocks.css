/* ===== 비누방울 스타일 프리미엄 블록 디자인 ===== */

/* 기본 블록 스타일 - 비누방울 효과 */
.block {
    aspect-ratio: 1;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: clamp(20px, 5vw, 36px);
    cursor: pointer;
    transition: transform 0.25s cubic-bezier(0.68, -0.55, 0.265, 1.55),
        box-shadow 0.25s ease,
        border-color 0.25s ease;
    position: relative;

    /* 등장 애니메이션만 적용 (움직이는 효과 제거) */
    animation: bubbleAppear 0.5s ease-out;

    /* 비누방울 기본 효과 - 투명하고 반짝이는 */
    background: radial-gradient(ellipse at 25% 25%,
            rgba(255, 255, 255, 0.9) 0%,
            rgba(255, 255, 255, 0.4) 15%,
            rgba(255, 255, 255, 0.1) 30%,
            transparent 60%);

    /* 비누방울 테두리 - 무지개빛 반사 */
    border: 2px solid rgba(255, 255, 255, 0.6);

    /* 비누방울 그림자와 광택 */
    box-shadow:
        inset 0 -15px 30px rgba(0, 0, 0, 0.1),
        inset 0 10px 20px rgba(255, 255, 255, 0.4),
        inset -5px 5px 15px rgba(255, 255, 255, 0.3),
        0 5px 15px rgba(0, 0, 0, 0.15),
        0 0 20px rgba(255, 255, 255, 0.2);

    overflow: hidden;
    backdrop-filter: blur(2px);
}


/* 비누방울 상단 하이라이트 (큰 반사광) */
.block::before {
    content: '';
    position: absolute;
    top: 8%;
    left: 12%;
    width: 35%;
    height: 25%;
    background: radial-gradient(ellipse at center,
            rgba(255, 255, 255, 0.95) 0%,
            rgba(255, 255, 255, 0.6) 40%,
            transparent 70%);
    border-radius: 50%;
    pointer-events: none;
    transform: rotate(-15deg);
}

/* 비누방울 하단 보조 반사광 */
.block::after {
    content: '';
    position: absolute;
    bottom: 15%;
    right: 15%;
    width: 20%;
    height: 15%;
    background: radial-gradient(ellipse at center,
            rgba(255, 255, 255, 0.6) 0%,
            transparent 70%);
    border-radius: 50%;
    pointer-events: none;
}

/* 비누방울 등장 애니메이션 */
@keyframes bubbleAppear {
    0% {
        opacity: 0;
        transform: scale(0) translateY(20px);
    }

    50% {
        transform: scale(1.15) translateY(-5px);
    }

    70% {
        transform: scale(0.95) translateY(2px);
    }

    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* 호버 효과 - 비누방울이 살짝 커지고 떠오름 */
.block:hover {
    transform: scale(1.12) translateY(-4px);
    box-shadow:
        inset 0 -15px 30px rgba(0, 0, 0, 0.08),
        inset 0 10px 25px rgba(255, 255, 255, 0.5),
        inset -5px 5px 20px rgba(255, 255, 255, 0.4),
        0 10px 25px rgba(0, 0, 0, 0.2),
        0 0 30px rgba(255, 255, 255, 0.3);
    border-color: rgba(255, 255, 255, 0.8);
}

.block:active {
    transform: scale(0.92) translateY(2px);
    box-shadow:
        inset 0 -10px 20px rgba(0, 0, 0, 0.12),
        inset 0 8px 15px rgba(255, 255, 255, 0.3),
        0 3px 10px rgba(0, 0, 0, 0.15);
}

/* 선택된 블록 - 빛나는 비누방울 */
.block.selected {
    transform: scale(1.18);
    box-shadow:
        inset 0 -15px 30px rgba(0, 0, 0, 0.05),
        inset 0 10px 25px rgba(255, 255, 255, 0.6),
        0 0 0 4px rgba(255, 255, 255, 0.9),
        0 0 30px rgba(255, 215, 0, 0.8),
        0 0 50px rgba(255, 255, 255, 0.4);
    animation: bubbleGlow 0.8s ease-in-out infinite;
    z-index: 10;
}

@keyframes bubbleGlow {

    0%,
    100% {
        box-shadow:
            inset 0 -15px 30px rgba(0, 0, 0, 0.05),
            inset 0 10px 25px rgba(255, 255, 255, 0.6),
            0 0 0 4px rgba(255, 255, 255, 0.9),
            0 0 30px rgba(255, 215, 0, 0.7),
            0 0 50px rgba(255, 255, 255, 0.3);
    }

    50% {
        box-shadow:
            inset 0 -15px 30px rgba(0, 0, 0, 0.05),
            inset 0 10px 25px rgba(255, 255, 255, 0.7),
            0 0 0 6px rgba(255, 255, 255, 1),
            0 0 45px rgba(255, 215, 0, 1),
            0 0 70px rgba(255, 255, 255, 0.5);
    }
}

/* ===== 블록 타입별 색상 - 컬러풀한 비누방울 ===== */

/* 타입 0 - 핑크 비누방울 */
.block-0 {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 20%, transparent 50%),
        radial-gradient(ellipse at 75% 75%, rgba(255, 105, 180, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(255, 182, 193, 0.7) 0%, rgba(255, 105, 157, 0.5) 50%, rgba(255, 20, 147, 0.3) 100%);
    border-color: rgba(255, 182, 193, 0.7);
    text-shadow: 0 2px 8px rgba(255, 105, 180, 0.5);
}

/* 타입 1 - 골드/옐로우 비누방울 */
.block-1 {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 20%, transparent 50%),
        radial-gradient(ellipse at 75% 75%, rgba(255, 215, 0, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(255, 250, 205, 0.7) 0%, rgba(255, 223, 0, 0.5) 50%, rgba(255, 193, 37, 0.3) 100%);
    border-color: rgba(255, 223, 0, 0.7);
    text-shadow: 0 2px 8px rgba(255, 193, 37, 0.5);
}

/* 타입 2 - 블루 비누방울 */
.block-2 {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 20%, transparent 50%),
        radial-gradient(ellipse at 75% 75%, rgba(30, 144, 255, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(173, 216, 230, 0.7) 0%, rgba(100, 149, 237, 0.5) 50%, rgba(30, 144, 255, 0.3) 100%);
    border-color: rgba(135, 206, 250, 0.7);
    text-shadow: 0 2px 8px rgba(30, 144, 255, 0.5);
}

/* 타입 3 - 그린 비누방울 */
.block-3 {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 20%, transparent 50%),
        radial-gradient(ellipse at 75% 75%, rgba(50, 205, 50, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(144, 238, 144, 0.7) 0%, rgba(60, 179, 113, 0.5) 50%, rgba(34, 139, 34, 0.3) 100%);
    border-color: rgba(144, 238, 144, 0.7);
    text-shadow: 0 2px 8px rgba(50, 205, 50, 0.5);
}

/* 타입 4 - 퍼플 비누방울 */
.block-4 {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 20%, transparent 50%),
        radial-gradient(ellipse at 75% 75%, rgba(147, 112, 219, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(221, 160, 221, 0.7) 0%, rgba(186, 85, 211, 0.5) 50%, rgba(148, 0, 211, 0.3) 100%);
    border-color: rgba(221, 160, 221, 0.7);
    text-shadow: 0 2px 8px rgba(147, 112, 219, 0.5);
}

/* 타입 5 - 오렌지 비누방울 */
.block-5 {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 20%, transparent 50%),
        radial-gradient(ellipse at 75% 75%, rgba(255, 140, 0, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(255, 228, 181, 0.7) 0%, rgba(255, 165, 0, 0.5) 50%, rgba(255, 140, 0, 0.3) 100%);
    border-color: rgba(255, 200, 124, 0.7);
    text-shadow: 0 2px 8px rgba(255, 140, 0, 0.5);
}

/* 타입 6 - 레드 비누방울 */
.block-6 {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 20%, transparent 50%),
        radial-gradient(ellipse at 75% 75%, rgba(220, 20, 60, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(255, 182, 193, 0.7) 0%, rgba(255, 99, 71, 0.5) 50%, rgba(220, 20, 60, 0.3) 100%);
    border-color: rgba(255, 160, 160, 0.7);
    text-shadow: 0 2px 8px rgba(220, 20, 60, 0.5);
}

/* 타입 7 - 민트/시안 비누방울 */
.block-7 {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 20%, transparent 50%),
        radial-gradient(ellipse at 75% 75%, rgba(0, 206, 209, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(175, 238, 238, 0.7) 0%, rgba(64, 224, 208, 0.5) 50%, rgba(0, 206, 209, 0.3) 100%);
    border-color: rgba(175, 238, 238, 0.7);
    text-shadow: 0 2px 8px rgba(0, 206, 209, 0.5);
}

/* ===== 특수 블록 - 마법 비누방울 ===== */

/* 가로 줄 제거 - 번개 비누방울 */
.block-special-row {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.4) 20%, transparent 45%),
        repeating-linear-gradient(90deg,
            rgba(255, 255, 255, 0.4) 0px,
            rgba(255, 255, 255, 0.4) 3px,
            transparent 3px,
            transparent 8px),
        radial-gradient(circle at 50% 50%, rgba(255, 250, 205, 0.9) 0%, rgba(255, 215, 0, 0.7) 50%, rgba(255, 140, 0, 0.4) 100%);
    border: 3px solid rgba(255, 215, 0, 0.8);
    box-shadow:
        inset 0 -15px 30px rgba(255, 140, 0, 0.2),
        inset 0 10px 25px rgba(255, 255, 255, 0.6),
        0 0 0 2px rgba(255, 255, 255, 0.5),
        0 0 25px rgba(255, 215, 0, 0.8),
        0 5px 15px rgba(0, 0, 0, 0.15);
    animation: sparkleBubble 1.2s ease-in-out infinite;
    font-size: clamp(22px, 6vw, 40px);
}

@keyframes sparkleBubble {

    0%,
    100% {
        box-shadow: inset 0 -15px 30px rgba(255, 140, 0, 0.2), inset 0 10px 25px rgba(255, 255, 255, 0.6), 0 0 0 2px rgba(255, 255, 255, 0.5), 0 0 25px rgba(255, 215, 0, 0.7), 0 5px 15px rgba(0, 0, 0, 0.15);
    }

    50% {
        box-shadow: inset 0 -15px 30px rgba(255, 140, 0, 0.3), inset 0 10px 25px rgba(255, 255, 255, 0.7), 0 0 0 3px rgba(255, 255, 255, 0.7), 0 0 40px rgba(255, 215, 0, 1), 0 5px 20px rgba(0, 0, 0, 0.2);
        transform: scale(1.05);
    }
}

/* 세로 줄 제거 - 불꽃 비누방울 */
.block-special-column {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.4) 20%, transparent 45%),
        repeating-linear-gradient(0deg,
            rgba(255, 255, 255, 0.4) 0px,
            rgba(255, 255, 255, 0.4) 3px,
            transparent 3px,
            transparent 8px),
        radial-gradient(circle at 50% 50%, rgba(255, 200, 200, 0.9) 0%, rgba(255, 99, 71, 0.7) 50%, rgba(220, 20, 60, 0.4) 100%);
    border: 3px solid rgba(255, 99, 71, 0.8);
    box-shadow:
        inset 0 -15px 30px rgba(220, 20, 60, 0.2),
        inset 0 10px 25px rgba(255, 255, 255, 0.6),
        0 0 0 2px rgba(255, 255, 255, 0.5),
        0 0 25px rgba(255, 69, 0, 0.8),
        0 5px 15px rgba(0, 0, 0, 0.15);
    animation: fireBubble 1s ease-in-out infinite;
    font-size: clamp(22px, 6vw, 40px);
}

@keyframes fireBubble {

    0%,
    100% {
        box-shadow: inset 0 -15px 30px rgba(220, 20, 60, 0.2), inset 0 10px 25px rgba(255, 255, 255, 0.6), 0 0 0 2px rgba(255, 255, 255, 0.5), 0 0 25px rgba(255, 69, 0, 0.7), 0 5px 15px rgba(0, 0, 0, 0.15);
    }

    50% {
        box-shadow: inset 0 -15px 30px rgba(220, 20, 60, 0.3), inset 0 10px 25px rgba(255, 255, 255, 0.7), 0 0 0 3px rgba(255, 255, 255, 0.7), 0 0 40px rgba(255, 69, 0, 1), 0 5px 20px rgba(0, 0, 0, 0.2);
        transform: scale(1.05);
    }
}

/* 십자 제거 - 마법 비누방울 */
.block-special-cross {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.4) 20%, transparent 45%),
        conic-gradient(from 0deg at 50% 50%,
            rgba(255, 255, 255, 0.5) 0deg,
            transparent 20deg,
            rgba(255, 255, 255, 0.5) 90deg,
            transparent 110deg,
            rgba(255, 255, 255, 0.5) 180deg,
            transparent 200deg,
            rgba(255, 255, 255, 0.5) 270deg,
            transparent 290deg),
        radial-gradient(circle at 50% 50%, rgba(230, 200, 255, 0.9) 0%, rgba(147, 112, 219, 0.7) 50%, rgba(75, 0, 130, 0.4) 100%);
    border: 3px solid rgba(186, 85, 211, 0.8);
    box-shadow:
        inset 0 -15px 30px rgba(75, 0, 130, 0.2),
        inset 0 10px 25px rgba(255, 255, 255, 0.6),
        0 0 0 2px rgba(255, 255, 255, 0.5),
        0 0 30px rgba(147, 112, 219, 0.9),
        0 5px 15px rgba(0, 0, 0, 0.15);
    animation: magicBubble 1.5s ease-in-out infinite;
    font-size: clamp(24px, 7vw, 44px);
}

@keyframes magicBubble {

    0%,
    100% {
        transform: scale(1) rotate(0deg);
    }

    50% {
        transform: scale(1.08) rotate(45deg);
        box-shadow: inset 0 -15px 30px rgba(75, 0, 130, 0.25), inset 0 10px 25px rgba(255, 255, 255, 0.7), 0 0 0 3px rgba(255, 255, 255, 0.7), 0 0 45px rgba(147, 112, 219, 1), 0 5px 20px rgba(0, 0, 0, 0.2);
    }
}

/* 3x3 폭탄 - 폭발 비누방울 */
.block-special-bomb {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 20%, transparent 45%),
        radial-gradient(circle at 50% 35%, rgba(255, 150, 50, 0.7) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(50, 50, 50, 0.95) 0%, rgba(30, 30, 30, 0.9) 60%, rgba(0, 0, 0, 0.8) 100%);
    border: 3px solid rgba(255, 100, 0, 0.9);
    box-shadow:
        inset 0 -15px 30px rgba(0, 0, 0, 0.3),
        inset 0 10px 20px rgba(255, 150, 50, 0.4),
        0 0 0 2px rgba(255, 100, 0, 0.6),
        0 0 25px rgba(255, 69, 0, 1),
        0 5px 15px rgba(0, 0, 0, 0.3);
    animation: bombBubble 0.7s ease-in-out infinite;
    font-size: clamp(24px, 7vw, 44px);
}

@keyframes bombBubble {

    0%,
    100% {
        transform: scale(1);
        box-shadow: inset 0 -15px 30px rgba(0, 0, 0, 0.3), inset 0 10px 20px rgba(255, 150, 50, 0.4), 0 0 0 2px rgba(255, 100, 0, 0.6), 0 0 25px rgba(255, 69, 0, 0.9), 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    50% {
        transform: scale(1.12);
        box-shadow: inset 0 -15px 30px rgba(0, 0, 0, 0.3), inset 0 10px 25px rgba(255, 150, 50, 0.5), 0 0 0 4px rgba(255, 100, 0, 0.8), 0 0 40px rgba(255, 69, 0, 1), 0 5px 20px rgba(0, 0, 0, 0.35);
    }
}

/* 레인보우 - 무지개 비누방울 */
.block-special-rainbow {
    background:
        radial-gradient(ellipse at 25% 25%, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.5) 20%, transparent 45%),
        conic-gradient(from 0deg at 50% 50%,
            rgba(255, 107, 157, 0.7) 0deg,
            rgba(255, 165, 0, 0.7) 60deg,
            rgba(255, 215, 0, 0.7) 120deg,
            rgba(50, 205, 50, 0.7) 180deg,
            rgba(30, 144, 255, 0.7) 240deg,
            rgba(147, 112, 219, 0.7) 300deg,
            rgba(255, 107, 157, 0.7) 360deg);
    border: 3px solid rgba(255, 255, 255, 0.9);
    box-shadow:
        inset 0 -15px 30px rgba(0, 0, 0, 0.1),
        inset 0 10px 25px rgba(255, 255, 255, 0.7),
        0 0 0 2px rgba(255, 215, 0, 0.6),
        0 0 35px rgba(255, 215, 0, 1),
        0 5px 15px rgba(0, 0, 0, 0.2);
    animation: rainbowBubble 2.5s linear infinite;
    font-size: clamp(26px, 8vw, 48px);
}

@keyframes rainbowBubble {
    0% {
        filter: hue-rotate(0deg);
        transform: scale(1) rotate(0deg);
    }

    50% {
        transform: scale(1.06) rotate(180deg);
    }

    100% {
        filter: hue-rotate(360deg);
        transform: scale(1) rotate(360deg);
    }
}

/* ===== 비누방울 터지는 애니메이션 ===== */
.block.exploding {
    animation: bubblePop 0.5s ease-out forwards;
}

@keyframes bubblePop {
    0% {
        transform: scale(1);
        opacity: 1;
    }

    20% {
        transform: scale(1.3);
        opacity: 0.9;
    }

    40% {
        transform: scale(1.5);
        opacity: 0.6;
        border-radius: 45%;
    }

    60% {
        transform: scale(1.8);
        opacity: 0.3;
        border-radius: 40%;
    }

    100% {
        transform: scale(2);
        opacity: 0;
        border-radius: 30%;
    }
}

/* 떨어지는 비누방울 애니메이션 */
.block.falling {
    animation: bubbleFall 0.45s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes bubbleFall {
    0% {
        transform: translateY(-120%) scale(0.8);
        opacity: 0;
    }

    50% {
        transform: translateY(5%) scale(1.05);
        opacity: 1;
    }

    100% {
        transform: translateY(0) scale(1);
        opacity: 1;
    }
}

/* ===== 파티클 효과 - 작은 비누방울 ===== */
.particle {
    position: fixed;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    pointer-events: none;
    animation: bubbleParticle 0.8s ease-out forwards;
    z-index: 1000;
    background: radial-gradient(ellipse at 30% 30%,
            rgba(255, 255, 255, 0.9) 0%,
            rgba(255, 255, 255, 0.3) 50%,
            transparent 70%);
    border: 1px solid rgba(255, 255, 255, 0.6);
    box-shadow:
        inset 0 -3px 6px rgba(0, 0, 0, 0.1),
        0 0 8px rgba(255, 255, 255, 0.5);
}

@keyframes bubbleParticle {
    0% {
        transform: translate(0, 0) scale(1);
        opacity: 1;
    }

    60% {
        opacity: 0.8;
        transform: translate(var(--tx), calc(var(--ty) * 0.5)) scale(1.2);
    }

    100% {
        transform: translate(var(--tx), var(--ty)) scale(0.3);
        opacity: 0;
    }
}

/* ===== 모바일 최적화 ===== */
@media (max-width: 480px) {
    .block {
        font-size: clamp(18px, 4.5vw, 28px);
    }

    .block-special-row,
    .block-special-column,
    .block-special-cross,
    .block-special-bomb,
    .block-special-rainbow {
        font-size: clamp(20px, 5vw, 32px);
    }
}

@media (max-width: 360px) {
    .block {
        font-size: clamp(16px, 4vw, 24px);
    }

    .block-special-row,
    .block-special-column,
    .block-special-cross,
    .block-special-bomb,
    .block-special-rainbow {
        font-size: clamp(18px, 4.5vw, 28px);
    }
}

/* 가로 모드 최적화 */
@media (orientation: landscape) and (max-height: 500px) {
    .block {
        font-size: clamp(14px, 3.5vh, 24px);
    }
}