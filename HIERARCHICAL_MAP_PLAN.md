# 계층적 지도 시스템 구현 계획

## 🎯 목표
현재 18개 레벨 → **수천 개 레벨**로 확장하여 장기간 플레이 가능하게 만들기

## 📊 현재 문제점
- 서울 10개 레벨 + 부산 8개 레벨 = 총 18개
- 1시간이면 모두 클리어 가능
- 콘텐츠 부족으로 재미 지속 불가

## 🗺️ 계층적 구조 설계

### Level 1: 전국 지도 (현재 구현됨)
```
전국 지도
├─ 서울특별시 (클릭)
├─ 부산광역시 (클릭)
├─ 대구광역시 (잠금)
└─ ... (15개 지역)
```

### Level 2: 구(區) 지도 (NEW!)
```
서울특별시 클릭 →
├─ 강남구 (클릭)
├─ 강동구 (클릭)
├─ 강북구 (클릭)
├─ 강서구 (클릭)
├─ 관악구 (클릭)
└─ ... (25개 구)
```

### Level 3: 동(洞) 지도 (NEW!)
```
강남구 클릭 →
├─ 역삼동 (클릭)
├─ 삼성동 (클릭)
├─ 대치동 (클릭)
├─ 청담동 (클릭)
├─ 논현동 (클릭)
└─ ... (22개 동)
```

### Level 4: 레벨 목록 (기존 방식)
```
역삼동 클릭 →
├─ 레벨 1: 역삼역 맛집거리
├─ 레벨 2: 강남역 먹자골목
├─ 레벨 3: 테헤란로 점심특선
└─ 레벨 4: 역삼동 카페거리
```

## 📈 레벨 수 계산

### 서울특별시 (예상)
- 25개 구
- 평균 20개 동/구
- 평균 3개 레벨/동
- **총 1,500개 레벨**

### 부산광역시 (예상)
- 16개 구
- 평균 15개 동/구
- 평균 3개 레벨/동
- **총 720개 레벨**

### 전국 확장 시
- 17개 시도
- 평균 15개 구/시도
- 평균 15개 동/구
- 평균 3개 레벨/동
- **총 11,475개 레벨**

## 🛠️ 구현 단계

### Phase 1: 서울 강남구 프로토타입 (우선)
1. ✅ 전국 지도 (완료)
2. ⏳ 서울 25개 구 지도 생성
3. ⏳ 강남구 22개 동 지도 생성
4. ⏳ 역삼동 5개 레벨 데이터 생성
5. ⏳ 계층적 네비게이션 구현

### Phase 2: 서울 전체 확장
1. 25개 구 × 평균 20개 동 = 500개 동
2. 각 동마다 3-5개 레벨
3. 총 1,500-2,500개 레벨

### Phase 3: 부산 확장
1. 16개 구 × 평균 15개 동 = 240개 동
2. 각 동마다 3-5개 레벨
3. 총 720-1,200개 레벨

### Phase 4: 전국 확장
1. 나머지 15개 시도
2. 각 시도마다 구/동 구조
3. 총 10,000개 이상 레벨

## 💾 데이터 구조

### 구(區) 데이터
```javascript
{
  id: "seoul_gangnam",
  name: "강남구",
  cityId: "seoul",
  center: [37.5172, 127.0473],
  dongCount: 22,
  description: "서울의 중심, 강남",
  unlockCondition: "NONE" // 또는 "COMPLETE_seoul_junggu"
}
```

### 동(洞) 데이터
```javascript
{
  id: "seoul_gangnam_yeoksam",
  name: "역삼동",
  guId: "seoul_gangnam",
  center: [37.5006, 127.0364],
  levelCount: 5,
  description: "테헤란로와 강남역의 중심",
  unlockCondition: "NONE"
}
```

### 레벨 데이터
```javascript
{
  id: "seoul_gangnam_yeoksam_001",
  name: "역삼역 맛집거리",
  dongId: "seoul_gangnam_yeoksam",
  type: "SCORE",
  target: 3000,
  moves: 25,
  reward: "IT_GN_YS_001"
}
```

## 🎮 UI/UX 플로우

### 1. 전국 지도
```
[말랑말랑 대동맛지도]
┌─────────────────┐
│   전국 지도     │
│  🏛️ 서울        │
│  🌊 부산        │
│  🍎 대구 🔒    │
└─────────────────┘
```

### 2. 서울 구 지도
```
[서울특별시 > 구 선택]
← 뒤로가기
┌─────────────────┐
│   서울 25개 구  │
│  강남구 ✅      │
│  강동구 🔒     │
│  강북구 🔒     │
└─────────────────┘
```

### 3. 강남구 동 지도
```
[서울 > 강남구 > 동 선택]
← 뒤로가기
┌─────────────────┐
│  강남구 22개 동 │
│  역삼동 ✅      │
│  삼성동 🔒     │
│  대치동 🔒     │
└─────────────────┘
```

### 4. 역삼동 레벨 목록
```
[서울 > 강남구 > 역삼동]
← 뒤로가기
┌─────────────────┐
│ 역삼동 5개 레벨 │
│ 1. 역삼역 ⭐⭐⭐│
│ 2. 강남역 ⭐⭐  │
│ 3. 테헤란로 🔒 │
└─────────────────┘
```

## 🔓 잠금 해제 시스템

### 순차적 해제
1. 서울 중구 → 자동 해제 (시작 지역)
2. 중구 소공동 → 자동 해제
3. 소공동 레벨 1 → 자동 해제
4. 레벨 1 클리어 → 레벨 2 해제
5. 소공동 모든 레벨 클리어 → 명동 해제
6. 중구 모든 동 클리어 → 종로구 해제

### 점진적 확장
- 처음: 중구만 플레이 가능
- 중구 완료: 종로구, 용산구 해제
- 강남 3구 완료: 강동구, 송파구 해제
- 서울 완료: 부산 해제

## 📝 다음 작업

### 즉시 구현 (오늘)
1. [ ] 서울 25개 구 데이터 생성
2. [ ] 구 지도 화면 UI 구현
3. [ ] 강남구 22개 동 데이터 생성
4. [ ] 동 지도 화면 UI 구현
5. [ ] 역삼동 5개 레벨 데이터 생성

### 단기 (이번 주)
1. [ ] 서울 5개 구 완성 (중구, 종로구, 강남구, 서초구, 송파구)
2. [ ] 각 구마다 10-20개 동
3. [ ] 각 동마다 3-5개 레벨
4. [ ] 총 200-500개 레벨

### 중기 (다음 주)
1. [ ] 서울 25개 구 전체 완성
2. [ ] 부산 16개 구 완성
3. [ ] 총 2,000-3,000개 레벨

## 🎯 성공 지표
- ✅ 1시간 플레이 → 10-20개 레벨 클리어
- ✅ 하루 플레이 → 50-100개 레벨 클리어
- ✅ 일주일 플레이 → 300-500개 레벨 클리어
- ✅ 한 달 플레이 → 1,000-2,000개 레벨 클리어

---

**작성일**: 2025-12-22
**상태**: 설계 완료, 구현 시작 예정
