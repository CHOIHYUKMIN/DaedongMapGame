<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>말랑말랑 대동맛지도</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- 메인 컨테이너 -->
    <div id="game-container">

        <!-- 메인 메뉴 화면 -->
        <div id="main-menu" class="screen active">
            <div class="title">
                <h1>말랑말랑<br>대동맛지도</h1>
                <p class="subtitle">서울경기편</p>
            </div>
            <div class="menu-buttons">
                <button class="btn-large" onclick="Game.showCharacterSelect()">게임 시작</button>
                <button class="btn-large" onclick="Game.showSettings()">설정</button>
                <button class="btn-large" onclick="Game.showInfo()">게임 정보</button>
            </div>
            <div class="version">v0.1 프로토타입</div>
        </div>

        <!-- 캐릭터 선택 화면 -->
        <div id="character-select" class="screen">
            <h2>탐험가 선택</h2>
            <p class="subtitle">나이와 성별을 선택하세요</p>

            <div class="age-selector">
                <button class="age-btn" data-age="10">10대</button>
                <button class="age-btn" data-age="20">20대</button>
                <button class="age-btn" data-age="30">30대</button>
                <button class="age-btn" data-age="40">40~50대</button>
                <button class="age-btn" data-age="60">60대+</button>
            </div>

            <div class="gender-selector">
                <button class="gender-btn" data-gender="M">남성</button>
                <button class="gender-btn" data-gender="F">여성</button>
            </div>

            <div id="selected-character" class="character-preview">
                <p>캐릭터를 선택해주세요</p>
            </div>

            <div class="button-row">
                <button class="btn" onclick="Game.showMainMenu()">뒤로</button>
                <button class="btn btn-primary" onclick="Game.startGame()">시작하기</button>
            </div>
        </div>

        <!-- 지도 화면 -->
        <div id="map-screen" class="screen">
            <div class="top-bar">
                <div class="resource-display">
                    <span class="resource">💰 <span id="gold-display">0</span></span>
                    <span class="resource">🎫 <span id="mp-display">0</span></span>
                    <span class="resource">❤️ <span id="heart-display">5</span></span>
                </div>
            </div>

            <div class="map-container">
                <h2>서울/경기 지도</h2>
                <p class="map-info">레벨을 선택하세요</p>
                <div id="level-nodes"></div>
            </div>

            <div class="bottom-bar">
                <button class="icon-btn" onclick="Game.showMap()">🗺️ 지도</button>
                <button class="icon-btn" onclick="Game.showInventory()">🎒 가방</button>
                <button class="icon-btn" onclick="Game.showShop()">🏪 상점</button>
                <button class="icon-btn" onclick="Game.showSettings()">⚙️ 설정</button>
            </div>
        </div>

        <!-- 퍼즐 게임 화면 -->
        <div id="puzzle-screen" class="screen">
            <div class="puzzle-top-bar">
                <div id="level-info">레벨 1</div>
                <div id="mission-info">목표: <span id="target-score"></span>1000</span>점</div>
                <div id="score-info">점수: <span id="current-score">0</span>점</div>
                <div id="moves-info">이동: <span id="moves-left">15</span></div>
            </div>

            <div id="puzzle-board"></div>

            <div class="puzzle-bottom-bar">
                <button class="skill-btn" onclick="Puzzle.useSkill()">🔥 스킬</button>
                <button class="item-btn" onclick="Puzzle.useHammer()">🔨</button>
                <button class="pause-btn" onclick="Game.pauseGame()">⏸️</button>
            </div>
        </div>

        <!-- 결과 팝업 -->
        <div id="result-popup" class="popup">
            <div class="popup-content">
                <h2 id="result-title">레벨 클리어!</h2>
                <div id="result-stars">⭐⭐⭐</div>
                <p id="result-score">점수: 5000</p>
                <div id="result-rewards">
                    <p>보상:</p>
                    <ul id="reward-list"></ul>
                </div>
                <p id="next-level-msg" style="margin-top: 20px; color: #999; font-size: 14px;">
                    3초 후 다음 레벨로 이동합니다...
                </p>
                <div class="button-row">
                    <button class="btn" onclick="Game.showMap()">지도로</button>
                    <button class="btn btn-primary" onclick="Game.retryLevel()">재도전</button>
                </div>
            </div>
        </div>

    </div>

    <!-- JavaScript -->
    <script src="js/data.js"></script>
    <script src="js/puzzle.js"></script>
    <script src="js/game.js"></script>
</body>

</html>